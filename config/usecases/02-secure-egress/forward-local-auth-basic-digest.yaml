version: 1
state_dir: "${QPX_STATE_DIR:-~/.local/share/qpx}"

# Sample accounts for proxy auth (intentionally weak password for examples).
# Use strong, unique passwords in real deployments.
auth:
  users:
    - username: alice@example.invalid
      password: "1234567890"
    - username: bob@example.invalid
      password: "1234567890"
    - username: ops@example.invalid
      password: "1234567890"
listeners:
  - name: local-auth-forward
    mode: forward
    listen: "127.0.0.1:18082"
    default_action: { type: block }
    rules:
      - name: allow-authenticated-users
        match:
          host: ["*"]
        auth:
          require: ["local"]
        action: { type: proxy }
