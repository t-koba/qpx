version: 1
state_dir: "${QPX_STATE_DIR:-~/.local/share/qpx}"

# Sample accounts for proxy auth (placeholder password).
# Replace the passwords (or use Digest HA1) before any real deployment.
auth:
  users:
    - username: alice@example.invalid
      password: change-me
    - username: bob@example.invalid
      password: change-me
    - username: ops@example.invalid
      password: change-me
listeners:
  - name: local-auth-forward
    mode: forward
    listen: "127.0.0.1:18082"
    default_action: { type: block }
    rules:
      - name: allow-authenticated-users
        match:
          host: ["*"]
        auth:
          require: ["local"]
        action: { type: proxy }
